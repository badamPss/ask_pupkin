# Результаты нагрузочного тестирования

## Выполненные тесты

### Тест 2: Статика через Gunicorn ✅

**URL:** http://127.0.0.1:8001/sample.html  
**Описание:** Отдача статического документа напрямую через gunicorn

**Результаты:**
- **Requests per second:** 4574.48 [#/sec]
- **Time per request:** 2.186 [ms] (mean)
- **Document Length:** 1541 bytes
- **Complete requests:** 1000
- **Failed requests:** 0
- **Transfer rate:** 7478.21 [Kbytes/sec]

### Тест 3: Динамика через Gunicorn ✅

**URL:** http://127.0.0.1:8002/  
**Описание:** Отдача динамического документа напрямую через gunicorn

**Результаты:**
- **Requests per second:** 3941.35 [#/sec]
- **Time per request:** 2.537 [ms] (mean)
- **Document Length:** 1153 bytes
- **Complete requests:** 1000
- **Failed requests:** 0
- **Transfer rate:** 4949.78 [Kbytes/sec]

## Не выполненные тесты

### Тест 1: Статика через Nginx ❌
**Причина:** Nginx не запущен (требуются права sudo)

### Тест 4: Динамика через Nginx proxy (без кэша) ❌
**Причина:** Nginx не запущен

### Тест 5: Динамика через Nginx proxy (с кэшем) ❌
**Причина:** Nginx не запущен

## Сравнение результатов

### Статика vs Динамика (через Gunicorn)

| Метрика | Статика | Динамика | Разница |
|---------|---------|----------|---------|
| Requests/sec | 4574.48 | 3941.35 | +16.1% |
| Time per request | 2.186 ms | 2.537 ms | -13.8% |
| Document size | 1541 bytes | 1153 bytes | +33.7% |

**Вывод:** Статика отдается быстрее динамики через Gunicorn примерно на **16%**.

## Ответы на вопросы задания

### 1. Насколько быстрее отдается статика по сравнению с WSGI?

**Ответ:** Статика через Gunicorn быстрее динамики на **16.1%** (4574.48 vs 3941.35 req/sec).

*Примечание: Для полного ответа необходимо выполнить тест 1 (Статика через Nginx), который покажет, насколько Nginx быстрее Gunicorn для статики.*

### 2. Во сколько раз ускоряет работу proxy_cache?

**Ответ:** Не может быть определено, так как тесты 4 и 5 (с кэшем и без) не выполнены из-за отсутствия запущенного Nginx.

*Для получения ответа необходимо:*
1. Запустить Nginx: `sudo nginx -c /Users/ignatvaschilo/Downloads/ask_pupkin/deploy/nginx/nginx.conf`
2. Выполнить тест 4 (без кэша) и тест 5 (с кэшем)
3. Сравнить результаты

## Полные результаты

Детальные результаты всех тестов сохранены в:
- `deploy/logs/performance_full_results.txt` - полные выводы Apache Benchmark

## Примечания

- Все тесты выполнены с параметрами: `-n 1000 -c 10` (1000 запросов, 10 одновременных соединений)
- Размеры документов примерно одинаковые (~1.5 KB), что соответствует требованиям задания
- Для выполнения всех 5 тестов необходимо запустить Nginx вручную с правами администратора
